{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import*as React from'react';import{getArtistas}from'../api/artists';import{getAlbumsByArtist}from'../api/albums';import{getSongsByAlbums}from'../api/songs';var Artistas=/*#__PURE__*/function(_React$Component){_inherits(Artistas,_React$Component);function Artistas(props){var _this;_classCallCheck(this,Artistas);_this=_possibleConstructorReturn(this,_getPrototypeOf(Artistas).call(this,props));_this.verArtistas=function(){var artistas=_this.state.artistas;return _this.state.artistas.pop(),_this.state.artistas.map(function(artista){return React.createElement(\"div\",{key:artista.id,className:\"artista\",onClick:function onClick(){return _this.albumsQuery(artista);}},React.createElement(\"span\",null,artista.name),React.createElement(\"img\",{src:artista.image,alt:artista.name}));});};_this.verAlbums=function(){var albums=_this.state.albums;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"head-artist\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-2 offset-md-5\"},React.createElement(\"img\",{src:_this.state.artista.image,alt:_this.state.artista.name}),React.createElement(\"h4\",null,_this.state.artista.name),React.createElement(\"span\",null,React.createElement(\"i\",{className:\"fas fa-star\"}),_this.state.artista.popularity)))),React.createElement(\"div\",{className:\"albums-container\"},React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},React.createElement(\"p\",{className:\"title\"},\"\\xC1lbumes\"),_this.state.albums.map(function(albums){return React.createElement(\"div\",{className:\"row album\",key:albums.id,onClick:function onClick(){return _this.songsQuery(albums);}},React.createElement(\"div\",{className:\"col-md-1\"},React.createElement(\"img\",{src:albums.image,alt:albums.name})),React.createElement(\"div\",{className:\"col-md-10\"},React.createElement(\"p\",{className:\"nombre\"},albums.name),React.createElement(\"p\",{className:\"canciones\"},\"Canciones: \",albums.total_tracks)),React.createElement(\"div\",{className:\"col-md-1\"},React.createElement(\"p\",{className:\"play\"},React.createElement(\"i\",{className:\"fas fa-play\"}))));}))));};_this.minutos=function(ms){var minutes=Math.floor(ms/60000);var seconds=(ms%60000/1000).toFixed(0);return minutes+\":\"+(seconds<10?'0':'')+seconds;};_this.totalMinutos=function(){var ms=0;var songs=_this.state.songs;_this.state.songs.songs.map(function(songs){ms+=parseInt(songs.duration_ms);});var total=_this.minutos(ms);return total;};_this.verCanciones=function(){var songs=_this.state.songs;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"head-album\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(\"img\",{src:_this.state.album.image,alt:_this.state.album.name})),React.createElement(\"div\",{className:\"col-md-2 my-auto\"},React.createElement(\"h5\",null,_this.state.album.name),React.createElement(\"p\",{className:\"info\"},\"\\xC1lbum \\u2022 \",_this.state.album.name,\" \",React.createElement(\"br\",null),_this.state.album.total_tracks,\" Canciones \\u2022 \",_this.totalMinutos())))),React.createElement(\"div\",{className:\"body-album\"},React.createElement(\"h5\",null,\"Canciones\"),React.createElement(\"div\",{className:\"canciones\"},_this.state.songs.songs.map(function(songs,i){return React.createElement(\"div\",{className:\"row cancion\",key:songs.id,onClick:function onClick(){return _this.playSong(songs);}},React.createElement(\"div\",{className:\"col-md-1\"},React.createElement(\"p\",null,i+1)),React.createElement(\"div\",{className:\"col-md-10\"},React.createElement(\"p\",null,songs.name)),React.createElement(\"div\",{className:\"col-md-1\"},React.createElement(\"p\",null,_this.minutos(songs.duration_ms))));}))));};_this.cancionesAleatoriasArtista=function(){var numAlbums=_this.state.albums.length;var albumrRam=Math.floor(Math.random()*numAlbums+0);var albumId=_this.state.albums[albumrRam].id;_this.songByArtist(albumId);// const canciones = this.state.songs.find( e => e.album === albumId)\n// for (var i = 0; i <= num; i++) {\n// }\n};_this.repCancion=function(){return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"head-artist\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-2 offset-md-5\"},React.createElement(\"img\",{src:_this.state.artista.image,alt:_this.state.artista.name}),React.createElement(\"h4\",null,_this.state.artista.name),React.createElement(\"span\",null,React.createElement(\"i\",{className:\"fas fa-star\"}),_this.state.artista.popularity)))),React.createElement(\"div\",{className:\"bar\"},React.createElement(\"div\",{className:\"col-md-8 offset-md-2 link-album\"},React.createElement(\"p\",{onClick:function onClick(){return _this.albumsQuery(_this.state.artista);}},\"\\xC1lbumes\"))),function(){this.cancionesAleatoriasArtista();});};_this.albumsQuery=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(art){var responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAlbumsByArtist(art.id);case 2:responseJson=_context.sent;_this.setState({artista:art,albums:responseJson[0].albums,isFetch:false,view:'album'});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.songsQuery=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(alb){var responseJson;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getSongsByAlbums(alb.id);case 2:responseJson=_context2.sent;_this.setState({album:alb,songs:responseJson[0],isFetch:false,view:'songs'});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.songByArtist=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var responseJson;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getSongsByAlbums(id);case 2:responseJson=_context3.sent;_this.setState({tempAlbum:responseJson[0]});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.playSong=function(sng){_this.setState({song:sng,view:'song'});};_this.cargarVista=function(){switch(_this.state.view){case'artista':return _this.verArtistas();break;case'album':return _this.verAlbums();break;case'songs':return _this.verCanciones();break;case'song':return _this.repCancion();break;}};_this.state={artistas:[],artista:[],albums:[],album:[],songs:[],song:[],tempAlbum:[],isFetch:true,view:''};return _this;}_createClass(Artistas,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var responseJson;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getArtistas();case 2:responseJson=_context4.sent;this.setState({artistas:responseJson,isFetch:false,view:'artista'});case 4:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var isFetch=this.state.isFetch;if(this.state.isFetch){return\"Cargando...\";}return React.createElement(React.Fragment,null,React.createElement(\"section\",{className:\"container-fluid\"},this.cargarVista()));}}]);return Artistas;}(React.Component);export default Artistas;","map":{"version":3,"sources":["C:/Users/Usuario/Dropbox/ProgramaciÃ³n web/Exito/test/src/components/Artistas.js"],"names":["React","getArtistas","getAlbumsByArtist","getSongsByAlbums","Artistas","props","verArtistas","artistas","state","pop","map","artista","id","albumsQuery","name","image","verAlbums","albums","popularity","songsQuery","total_tracks","minutos","ms","minutes","Math","floor","seconds","toFixed","totalMinutos","songs","parseInt","duration_ms","total","verCanciones","album","i","playSong","cancionesAleatoriasArtista","numAlbums","length","albumrRam","random","albumId","songByArtist","repCancion","art","responseJson","setState","isFetch","view","alb","tempAlbum","sng","song","cargarVista","Component"],"mappings":"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","sourcesContent":["import * as React from 'react'\r\nimport { getArtistas } from '../api/artists'\r\nimport { getAlbumsByArtist } from '../api/albums'\r\nimport { getSongsByAlbums } from '../api/songs'\r\n\r\nclass Artistas extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state={\r\n\t\t\tartistas: [],\r\n\t\t\tartista: [],\r\n\t\t\talbums: [],\r\n\t\t\talbum: [],\r\n\t\t\tsongs: [],\r\n\t\t\tsong: [],\r\n\t\t\ttempAlbum:[],\r\n\t\t\tisFetch: true,\r\n\t\t\tview: ''\r\n\t\t}\r\n\t}\r\n\r\n\tverArtistas = () =>{\r\n\t\tconst { artistas } = this.state\r\n\t\t\t \treturn this.state.artistas.pop(),\r\n\t\t\t\t  this.state.artistas.map((artista) => \r\n\t\t\t\t\t<div key={artista.id} className=\"artista\" onClick={() => this.albumsQuery(artista)}>\r\n\t\t\t\t\t\t<span>{artista.name}</span>\r\n\t\t\t\t\t\t<img src={artista.image} alt={artista.name}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t}\r\n\r\n\tverAlbums = () =>{\r\n\t\tconst { albums } = this.state\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-artist\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2 offset-md-5\">\r\n\t\t\t\t\t\t<img src={this.state.artista.image} alt={this.state.artista.name}/>\r\n\t\t\t\t\t\t<h4>{this.state.artista.name}</h4>\r\n\t\t\t\t\t\t<span><i className=\"fas fa-star\"></i>{this.state.artista.popularity}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"albums-container\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t<p className=\"title\">Ãlbumes</p>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.albums.map((albums) =>\r\n\t\t\t\t\t\t\t<div className=\"row album\" key={albums.id} onClick={() => this.songsQuery(albums)}>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t\t\t<img src={albums.image} alt={albums.name}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-10\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"nombre\">{albums.name}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"canciones\">Canciones: {albums.total_tracks}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"play\"><i className=\"fas fa-play\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\t\t\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t}\r\n\r\n\tminutos = (ms) =>{\r\n\t\tconst minutes = Math.floor(ms / 60000);\r\n\t  \tconst seconds = ((ms % 60000) / 1000).toFixed(0);\r\n\t  \treturn minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\r\n\t}\r\n\r\n\ttotalMinutos = () =>{\r\n\t\tvar ms = 0;\r\n\t\tconst { songs } = this.state\r\n\t\tthis.state.songs.songs.map((songs) => {\r\n\t\t\tms += parseInt(songs.duration_ms)\r\n\t\t})\r\n\t\tconst total = this.minutos(ms)\r\n\t\treturn total\r\n\t}\r\n\r\n\tverCanciones = () =>{\r\n\t\tconst { songs } = this.state\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-album\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t\t<img src={this.state.album.image} alt={this.state.album.name}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-2 my-auto\">\r\n\t\t\t\t\t\t<h5>{this.state.album.name}</h5>\r\n\t\t\t\t\t\t<p className=\"info\">\r\n\t\t\t\t\t\t\tÃlbum â¢ {this.state.album.name} <br/> \r\n\t\t\t\t\t\t\t{this.state.album.total_tracks} Canciones â¢ {this.totalMinutos()}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"body-album\">\r\n\t\t\t\t<h5>Canciones</h5>\r\n\t\t\t\t<div className=\"canciones\">\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.songs.songs.map((songs,i) =>\r\n\t\t\t\t\t<div className=\"row cancion\" key={songs.id} onClick={() => this.playSong(songs)}>\r\n\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t<p>{i+1}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-10\">\r\n\t\t\t\t\t\t\t<p>{songs.name}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t<p>{this.minutos(songs.duration_ms)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t}\r\n\r\n\tcancionesAleatoriasArtista = () =>{\r\n\t\tconst numAlbums = this.state.albums.length \r\n\t\tconst albumrRam = Math.floor((Math.random() * numAlbums) + 0)\r\n\t\tconst albumId = this.state.albums[albumrRam].id;\r\n\t\tthis.songByArtist(albumId)\r\n\t\t// const canciones = this.state.songs.find( e => e.album === albumId)\r\n\t\t// for (var i = 0; i <= num; i++) {\r\n\t\t// }\r\n\r\n\t}\r\n\r\n\trepCancion = () =>{\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-artist\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2 offset-md-5\">\r\n\t\t\t\t\t\t<img src={this.state.artista.image} alt={this.state.artista.name}/>\r\n\t\t\t\t\t\t<h4>{this.state.artista.name}</h4>\r\n\t\t\t\t\t\t<span><i className=\"fas fa-star\"></i>{this.state.artista.popularity}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"bar\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2 link-album\">\r\n\t\t\t\t\t<p onClick={() => this.albumsQuery(this.state.artista)}>Ãlbumes</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\t(function(){this.cancionesAleatoriasArtista()})\r\n\t\t\t}\r\n\t\t</>\r\n\t}\r\n\r\n\tasync componentDidMount (){\r\n\t\tconst responseJson = await getArtistas()\r\n\t\tthis.setState({artistas: responseJson, isFetch: false, view: 'artista'})\r\n\t}\r\n\r\n\talbumsQuery = async (art) => {\r\n\t\tconst responseJson = await getAlbumsByArtist(art.id)\r\n\t\tthis.setState({artista: art, albums: responseJson[0].albums, isFetch: false, view: 'album'})\r\n\t}\r\n\r\n\tsongsQuery = async (alb) => {\r\n\t\tconst responseJson = await getSongsByAlbums(alb.id)\r\n\t\tthis.setState({album: alb, songs: responseJson[0], isFetch: false, view: 'songs'})\r\n\t}\r\n\r\n\tsongByArtist = async (id) => {\r\n\t\tconst responseJson = await getSongsByAlbums(id)\r\n\t\tthis.setState({tempAlbum: responseJson[0]})\r\n\t}\r\n\r\n\tplaySong = (sng) =>{\r\n\t\tthis.setState({song: sng, view: 'song'})\r\n\t}\r\n\r\n\tcargarVista = () =>{\r\n\t\tswitch(this.state.view){\r\n\t\t\tcase 'artista': return this.verArtistas(); break;\r\n\t\t\tcase 'album': return this.verAlbums(); break;\r\n\t\t\tcase 'songs': return this.verCanciones(); break;\r\n\t\t\tcase 'song': return this.repCancion(); break;\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { isFetch } = this.state\r\n\t\tif(this.state.isFetch){\r\n\t\t\treturn \"Cargando...\"\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<section className=\"container-fluid\">\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tthis.cargarVista()\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t</section>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n \r\n\r\nexport default Artistas;\r\n"]},"metadata":{},"sourceType":"module"}