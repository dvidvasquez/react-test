{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Dropbox\\\\Programaci\\xF3n web\\\\Exito\\\\test\\\\src\\\\components\\\\Artistas.js\";\nimport * as React from 'react';\nimport { getArtistas } from '../api/artists';\nimport { getAlbumsByArtist } from '../api/albums';\nimport { getSongsByAlbums } from '../api/songs';\nimport { getSongsByArtist } from '../api/songs';\n\nclass Artistas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.verArtistas = () => {\n      const {\n        artistas\n      } = this.state;\n      return this.state.artistas.pop(), this.state.artistas.map(artista => React.createElement(\"div\", {\n        key: artista.id,\n        className: \"artista\",\n        onClick: () => this.albumsQuery(artista),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, artista.name), React.createElement(\"img\", {\n        src: artista.image,\n        alt: artista.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      })));\n    };\n\n    this.verAlbums = () => {\n      const {\n        albums\n      } = this.state;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"head-artist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 offset-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.artista.image,\n        alt: this.state.artista.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, this.state.artista.name), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), this.state.artista.popularity)))), React.createElement(\"div\", {\n        className: \"albums-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8 offset-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"\\xC1lbumes\"), this.state.albums.map(albums => React.createElement(\"div\", {\n        className: \"row album\",\n        key: albums.id,\n        onClick: () => this.songsQuery(albums),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: albums.image,\n        alt: albums.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"nombre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, albums.name), React.createElement(\"p\", {\n        className: \"canciones\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Canciones: \", albums.total_tracks)), React.createElement(\"div\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"play\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-play\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }))))))));\n    };\n\n    this.minutos = ms => {\n      const minutes = Math.floor(ms / 60000);\n      const seconds = (ms % 60000 / 1000).toFixed(0);\n      return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\n    };\n\n    this.totalMinutos = () => {\n      var ms = 0;\n      const {\n        songs\n      } = this.state;\n      this.state.songs.songs.map(songs => {\n        ms += parseInt(songs.duration_ms);\n      });\n      const total = this.minutos(ms);\n      return total;\n    };\n\n    this.verCanciones = () => {\n      const {\n        songs\n      } = this.state; // console.log(this.state.album)\n\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"head-album\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.album.image,\n        alt: this.state.album.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-2 my-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.state.album.name), React.createElement(\"p\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"\\xC1lbum \\u2022 \", this.state.album.name, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), this.state.album.total_tracks, \" Canciones \\u2022 \", this.totalMinutos())))), React.createElement(\"div\", {\n        className: \"body-album\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Canciones\"), React.createElement(\"div\", {\n        className: \"canciones\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.songs.songs.map((songs, i) => React.createElement(\"div\", {\n        className: \"row cancion\",\n        key: songs.id,\n        onClick: () => this.playSong(songs),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, i + 1)), React.createElement(\"div\", {\n        className: \"col-md-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, songs.name)), React.createElement(\"div\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.minutos(songs.duration_ms))))))));\n    };\n\n    this.cancionesAleatoriasArtista = () => {\n      const numAlbums = this.state.albums.length;\n      const albumrRam = Math.floor(Math.random() * numAlbums + 0);\n      const albumId = this.state.albums[albumrRam].id;\n      this.songByArtist(albumId);\n      console.log(this.state.tempAlbum); // const canciones = this.state.songs.find( e => e.album === albumId)\n      // for (var i = 0; i <= num; i++) {\n      // }\n    };\n\n    this.repCancion = () => {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"head-artist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 offset-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.artista.image,\n        alt: this.state.artista.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, this.state.artista.name), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), this.state.artista.popularity)))), React.createElement(\"div\", {\n        className: \"bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8 offset-md-2 link-album\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        onClick: () => this.albumsQuery(this.state.artista),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"\\xC1lbumes\"))), this.cancionesAleatoriasArtista());\n    };\n\n    this.albumsQuery = async art => {\n      const responseJson = await getAlbumsByArtist(art.id);\n      this.setState({\n        artista: art,\n        albums: responseJson[0].albums,\n        isFetch: false,\n        view: 'album'\n      });\n    };\n\n    this.songsQuery = async alb => {\n      const responseJson = await getSongsByAlbums(alb.id);\n      this.setState({\n        album: alb,\n        songs: responseJson[0],\n        isFetch: false,\n        view: 'songs'\n      });\n    };\n\n    this.songByArtist = async id => {\n      const responseJson = await getSongsByArtist(id);\n      this.setState({\n        tempAlbum: responseJson[0]\n      });\n    };\n\n    this.playSong = sng => {\n      this.setState({\n        song: sng,\n        view: 'song'\n      });\n    };\n\n    this.cargarVista = () => {\n      switch (this.state.view) {\n        case 'artista':\n          return this.verArtistas();\n          break;\n\n        case 'album':\n          return this.verAlbums();\n          break;\n\n        case 'songs':\n          return this.verCanciones();\n          break;\n\n        case 'song':\n          return this.repCancion();\n          break;\n      }\n    };\n\n    this.cancionesAleatoriasArtista = this.cancionesAleatoriasArtista.bind(this);\n    this.handleClickThrottled = throttle(this.cancionesAleatoriasArtista, 1000);\n    this.state = {\n      artistas: [],\n      artista: [],\n      albums: [],\n      album: [],\n      songs: [],\n      song: [],\n      tempAlbum: [],\n      isFetch: true,\n      view: ''\n    };\n  }\n\n  async componentDidMount() {\n    const responseJson = await getArtistas();\n    this.setState({\n      artistas: responseJson,\n      isFetch: false,\n      view: 'artista'\n    });\n  }\n\n  render() {\n    const {\n      isFetch\n    } = this.state;\n\n    if (this.state.isFetch) {\n      return \"Cargando...\";\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"section\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.cargarVista()));\n  }\n\n}\n\nexport default Artistas;","map":{"version":3,"sources":["C:/Users/Usuario/Dropbox/Programación web/Exito/test/src/components/Artistas.js"],"names":["React","getArtistas","getAlbumsByArtist","getSongsByAlbums","getSongsByArtist","Artistas","Component","constructor","props","verArtistas","artistas","state","pop","map","artista","id","albumsQuery","name","image","verAlbums","albums","popularity","songsQuery","total_tracks","minutos","ms","minutes","Math","floor","seconds","toFixed","totalMinutos","songs","parseInt","duration_ms","total","verCanciones","album","i","playSong","cancionesAleatoriasArtista","numAlbums","length","albumrRam","random","albumId","songByArtist","console","log","tempAlbum","repCancion","art","responseJson","setState","isFetch","view","alb","sng","song","cargarVista","bind","handleClickThrottled","throttle","componentDidMount","render"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,iBAAT,QAAkC,eAAlC;AACA,SAASC,gBAAT,QAAiC,cAAjC;AACA,SAASC,gBAAT,QAAiC,cAAjC;;AAEA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAsC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,SAiBlBC,WAjBkB,GAiBJ,MAAK;AAClB,YAAM;AAAEC,QAAAA;AAAF,UAAe,KAAKC,KAA1B;AACG,aAAO,KAAKA,KAAL,CAAWD,QAAX,CAAoBE,GAApB,IACN,KAAKD,KAAL,CAAWD,QAAX,CAAoBG,GAApB,CAAyBC,OAAD,IACzB;AAAK,QAAA,GAAG,EAAEA,OAAO,CAACC,EAAlB;AAAsB,QAAA,SAAS,EAAC,SAAhC;AAA0C,QAAA,OAAO,EAAE,MAAM,KAAKC,WAAL,CAAiBF,OAAjB,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOA,OAAO,CAACG,IAAf,CADD,EAEC;AAAK,QAAA,GAAG,EAAEH,OAAO,CAACI,KAAlB;AAAyB,QAAA,GAAG,EAAEJ,OAAO,CAACG,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADC,CADD;AAOH,KA1BiB;;AAAA,SA4BlBE,SA5BkB,GA4BN,MAAK;AAChB,YAAM;AAAEC,QAAAA;AAAF,UAAa,KAAKT,KAAxB;AACA,aAAO,0CACN;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAE,KAAKA,KAAL,CAAWG,OAAX,CAAmBI,KAA7B;AAAoC,QAAA,GAAG,EAAE,KAAKP,KAAL,CAAWG,OAAX,CAAmBG,IAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKN,KAAL,CAAWG,OAAX,CAAmBG,IAAxB,CAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN,EAAsC,KAAKN,KAAL,CAAWG,OAAX,CAAmBO,UAAzD,CAHD,CADD,CADD,CADM,EAUN;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAGE,KAAKV,KAAL,CAAWS,MAAX,CAAkBP,GAAlB,CAAuBO,MAAD,IACrB;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAEA,MAAM,CAACL,EAAvC;AAA2C,QAAA,OAAO,EAAE,MAAM,KAAKO,UAAL,CAAgBF,MAAhB,CAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAEA,MAAM,CAACF,KAAjB;AAAwB,QAAA,GAAG,EAAEE,MAAM,CAACH,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAIC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBG,MAAM,CAACH,IAA9B,CADD,EAEC;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAqCG,MAAM,CAACG,YAA5C,CAFD,CAJD,EAQC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoB;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,CADD,CARD,CADD,CAHF,CADD,CAVM,CAAP;AAgCA,KA9DiB;;AAAA,SAgElBC,OAhEkB,GAgEPC,EAAD,IAAO;AAChB,YAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,EAAE,GAAG,KAAhB,CAAhB;AACE,YAAMI,OAAO,GAAG,CAAEJ,EAAE,GAAG,KAAN,GAAe,IAAhB,EAAsBK,OAAtB,CAA8B,CAA9B,CAAhB;AACA,aAAOJ,OAAO,GAAG,GAAV,IAAiBG,OAAO,GAAG,EAAV,GAAe,GAAf,GAAqB,EAAtC,IAA4CA,OAAnD;AACF,KApEiB;;AAAA,SAsElBE,YAtEkB,GAsEH,MAAK;AACnB,UAAIN,EAAE,GAAG,CAAT;AACA,YAAM;AAAEO,QAAAA;AAAF,UAAY,KAAKrB,KAAvB;AACA,WAAKA,KAAL,CAAWqB,KAAX,CAAiBA,KAAjB,CAAuBnB,GAAvB,CAA4BmB,KAAD,IAAW;AACrCP,QAAAA,EAAE,IAAIQ,QAAQ,CAACD,KAAK,CAACE,WAAP,CAAd;AACA,OAFD;AAGA,YAAMC,KAAK,GAAG,KAAKX,OAAL,CAAaC,EAAb,CAAd;AACA,aAAOU,KAAP;AACA,KA9EiB;;AAAA,SAgFlBC,YAhFkB,GAgFH,MAAK;AACnB,YAAM;AAAEJ,QAAAA;AAAF,UAAY,KAAKrB,KAAvB,CADmB,CAEnB;;AACA,aAAO,0CACN;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAE,KAAKA,KAAL,CAAW0B,KAAX,CAAiBnB,KAA3B;AAAkC,QAAA,GAAG,EAAE,KAAKP,KAAL,CAAW0B,KAAX,CAAiBpB,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAIC;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKN,KAAL,CAAW0B,KAAX,CAAiBpB,IAAtB,CADD,EAEC;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACU,KAAKN,KAAL,CAAW0B,KAAX,CAAiBpB,IAD3B,OACiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADjC,EAEE,KAAKN,KAAL,CAAW0B,KAAX,CAAiBd,YAFnB,wBAE8C,KAAKQ,YAAL,EAF9C,CAFD,CAJD,CADD,CADM,EAeN;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,EAEC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC,KAAKpB,KAAL,CAAWqB,KAAX,CAAiBA,KAAjB,CAAuBnB,GAAvB,CAA2B,CAACmB,KAAD,EAAOM,CAAP,KAC3B;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,GAAG,EAAEN,KAAK,CAACjB,EAAxC;AAA4C,QAAA,OAAO,EAAE,MAAM,KAAKwB,QAAL,CAAcP,KAAd,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIM,CAAC,GAAC,CAAN,CADD,CADD,EAIC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIN,KAAK,CAACf,IAAV,CADD,CAJD,EAOC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKO,OAAL,CAAaQ,KAAK,CAACE,WAAnB,CAAJ,CADD,CAPD,CADA,CAFD,CAFD,CAfM,CAAP;AAoCA,KAvHiB;;AAAA,SAyHlBM,0BAzHkB,GAyHW,MAAK;AACjC,YAAMC,SAAS,GAAG,KAAK9B,KAAL,CAAWS,MAAX,CAAkBsB,MAApC;AACA,YAAMC,SAAS,GAAGhB,IAAI,CAACC,KAAL,CAAYD,IAAI,CAACiB,MAAL,KAAgBH,SAAjB,GAA8B,CAAzC,CAAlB;AACA,YAAMI,OAAO,GAAG,KAAKlC,KAAL,CAAWS,MAAX,CAAkBuB,SAAlB,EAA6B5B,EAA7C;AACA,WAAK+B,YAAL,CAAkBD,OAAlB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrC,KAAL,CAAWsC,SAAvB,EALiC,CAMjC;AACA;AACA;AAEA,KAnIiB;;AAAA,SAqIlBC,UArIkB,GAqIL,MAAK;AACjB,aAAO,0CACN;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAE,KAAKvC,KAAL,CAAWG,OAAX,CAAmBI,KAA7B;AAAoC,QAAA,GAAG,EAAE,KAAKP,KAAL,CAAWG,OAAX,CAAmBG,IAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKN,KAAL,CAAWG,OAAX,CAAmBG,IAAxB,CAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN,EAAsC,KAAKN,KAAL,CAAWG,OAAX,CAAmBO,UAAzD,CAHD,CADD,CADD,CADM,EAUN;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,OAAO,EAAE,MAAM,KAAKL,WAAL,CAAiB,KAAKL,KAAL,CAAWG,OAA5B,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,CADD,CAVM,EAeL,KAAK0B,0BAAL,EAfK,CAAP;AAiBA,KAvJiB;;AAAA,SA8JlBxB,WA9JkB,GA8JJ,MAAOmC,GAAP,IAAe;AAC5B,YAAMC,YAAY,GAAG,MAAMlD,iBAAiB,CAACiD,GAAG,CAACpC,EAAL,CAA5C;AACA,WAAKsC,QAAL,CAAc;AAACvC,QAAAA,OAAO,EAAEqC,GAAV;AAAe/B,QAAAA,MAAM,EAAEgC,YAAY,CAAC,CAAD,CAAZ,CAAgBhC,MAAvC;AAA+CkC,QAAAA,OAAO,EAAE,KAAxD;AAA+DC,QAAAA,IAAI,EAAE;AAArE,OAAd;AACA,KAjKiB;;AAAA,SAmKlBjC,UAnKkB,GAmKL,MAAOkC,GAAP,IAAe;AAC3B,YAAMJ,YAAY,GAAG,MAAMjD,gBAAgB,CAACqD,GAAG,CAACzC,EAAL,CAA3C;AACA,WAAKsC,QAAL,CAAc;AAAChB,QAAAA,KAAK,EAAEmB,GAAR;AAAaxB,QAAAA,KAAK,EAAEoB,YAAY,CAAC,CAAD,CAAhC;AAAqCE,QAAAA,OAAO,EAAE,KAA9C;AAAqDC,QAAAA,IAAI,EAAE;AAA3D,OAAd;AACA,KAtKiB;;AAAA,SAwKlBT,YAxKkB,GAwKH,MAAO/B,EAAP,IAAc;AAC5B,YAAMqC,YAAY,GAAG,MAAMhD,gBAAgB,CAACW,EAAD,CAA3C;AACA,WAAKsC,QAAL,CAAc;AAACJ,QAAAA,SAAS,EAAEG,YAAY,CAAC,CAAD;AAAxB,OAAd;AACA,KA3KiB;;AAAA,SA6KlBb,QA7KkB,GA6KNkB,GAAD,IAAQ;AAClB,WAAKJ,QAAL,CAAc;AAACK,QAAAA,IAAI,EAAED,GAAP;AAAYF,QAAAA,IAAI,EAAE;AAAlB,OAAd;AACA,KA/KiB;;AAAA,SAiLlBI,WAjLkB,GAiLJ,MAAK;AAClB,cAAO,KAAKhD,KAAL,CAAW4C,IAAlB;AACC,aAAK,SAAL;AAAgB,iBAAO,KAAK9C,WAAL,EAAP;AAA2B;;AAC3C,aAAK,OAAL;AAAc,iBAAO,KAAKU,SAAL,EAAP;AAAyB;;AACvC,aAAK,OAAL;AAAc,iBAAO,KAAKiB,YAAL,EAAP;AAA4B;;AAC1C,aAAK,MAAL;AAAa,iBAAO,KAAKc,UAAL,EAAP;AAA0B;AAJxC;AAMA,KAxLiB;;AAEjB,SAAKV,0BAAL,GAAkC,KAAKA,0BAAL,CAAgCoB,IAAhC,CAAqC,IAArC,CAAlC;AACG,SAAKC,oBAAL,GAA4BC,QAAQ,CAAC,KAAKtB,0BAAN,EAAkC,IAAlC,CAApC;AACH,SAAK7B,KAAL,GAAW;AACVD,MAAAA,QAAQ,EAAE,EADA;AAEVI,MAAAA,OAAO,EAAE,EAFC;AAGVM,MAAAA,MAAM,EAAE,EAHE;AAIViB,MAAAA,KAAK,EAAE,EAJG;AAKVL,MAAAA,KAAK,EAAE,EALG;AAMV0B,MAAAA,IAAI,EAAE,EANI;AAOVT,MAAAA,SAAS,EAAC,EAPA;AAQVK,MAAAA,OAAO,EAAE,IARC;AASVC,MAAAA,IAAI,EAAE;AATI,KAAX;AAWA;;AA0ID,QAAMQ,iBAAN,GAA0B;AACzB,UAAMX,YAAY,GAAG,MAAMnD,WAAW,EAAtC;AACA,SAAKoD,QAAL,CAAc;AAAC3C,MAAAA,QAAQ,EAAE0C,YAAX;AAAyBE,MAAAA,OAAO,EAAE,KAAlC;AAAyCC,MAAAA,IAAI,EAAE;AAA/C,KAAd;AACA;;AA8BDS,EAAAA,MAAM,GAAE;AACP,UAAM;AAAEV,MAAAA;AAAF,QAAc,KAAK3C,KAAzB;;AACA,QAAG,KAAKA,KAAL,CAAW2C,OAAd,EAAsB;AACrB,aAAO,aAAP;AACA;;AACD,WACC,0CACA;AAAS,MAAA,SAAS,EAAC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGC,KAAKK,WAAL,EAHD,CADA,CADD;AAWA;;AA3MoC;;AAgNtC,eAAetD,QAAf","sourcesContent":["import * as React from 'react'\r\nimport { getArtistas } from '../api/artists'\r\nimport { getAlbumsByArtist } from '../api/albums'\r\nimport { getSongsByAlbums } from '../api/songs'\r\nimport { getSongsByArtist } from '../api/songs'\r\n\r\nclass Artistas extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.cancionesAleatoriasArtista = this.cancionesAleatoriasArtista.bind(this);\r\n    \tthis.handleClickThrottled = throttle(this.cancionesAleatoriasArtista, 1000);\r\n\t\tthis.state={\r\n\t\t\tartistas: [],\r\n\t\t\tartista: [],\r\n\t\t\talbums: [],\r\n\t\t\talbum: [],\r\n\t\t\tsongs: [],\r\n\t\t\tsong: [],\r\n\t\t\ttempAlbum:[],\r\n\t\t\tisFetch: true,\r\n\t\t\tview: ''\r\n\t\t}\r\n\t}\r\n\r\n\tverArtistas = () =>{\r\n\t\tconst { artistas } = this.state\r\n\t\t\t \treturn this.state.artistas.pop(),\r\n\t\t\t\t  this.state.artistas.map((artista) => \r\n\t\t\t\t\t<div key={artista.id} className=\"artista\" onClick={() => this.albumsQuery(artista)}>\r\n\t\t\t\t\t\t<span>{artista.name}</span>\r\n\t\t\t\t\t\t<img src={artista.image} alt={artista.name}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t}\r\n\r\n\tverAlbums = () =>{\r\n\t\tconst { albums } = this.state\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-artist\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2 offset-md-5\">\r\n\t\t\t\t\t\t<img src={this.state.artista.image} alt={this.state.artista.name}/>\r\n\t\t\t\t\t\t<h4>{this.state.artista.name}</h4>\r\n\t\t\t\t\t\t<span><i className=\"fas fa-star\"></i>{this.state.artista.popularity}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"albums-container\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2\">\r\n\t\t\t\t\t<p className=\"title\">Álbumes</p>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.albums.map((albums) =>\r\n\t\t\t\t\t\t\t<div className=\"row album\" key={albums.id} onClick={() => this.songsQuery(albums)}>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t\t\t<img src={albums.image} alt={albums.name}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-10\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"nombre\">{albums.name}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"canciones\">Canciones: {albums.total_tracks}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"play\"><i className=\"fas fa-play\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\t\t\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t}\r\n\r\n\tminutos = (ms) =>{\r\n\t\tconst minutes = Math.floor(ms / 60000);\r\n\t  \tconst seconds = ((ms % 60000) / 1000).toFixed(0);\r\n\t  \treturn minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\r\n\t}\r\n\r\n\ttotalMinutos = () =>{\r\n\t\tvar ms = 0;\r\n\t\tconst { songs } = this.state\r\n\t\tthis.state.songs.songs.map((songs) => {\r\n\t\t\tms += parseInt(songs.duration_ms)\r\n\t\t})\r\n\t\tconst total = this.minutos(ms)\r\n\t\treturn total\r\n\t}\r\n\r\n\tverCanciones = () =>{\r\n\t\tconst { songs } = this.state\r\n\t\t// console.log(this.state.album)\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-album\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t\t<img src={this.state.album.image} alt={this.state.album.name}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-2 my-auto\">\r\n\t\t\t\t\t\t<h5>{this.state.album.name}</h5>\r\n\t\t\t\t\t\t<p className=\"info\">\r\n\t\t\t\t\t\t\tÁlbum • {this.state.album.name} <br/> \r\n\t\t\t\t\t\t\t{this.state.album.total_tracks} Canciones • {this.totalMinutos()}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"body-album\">\r\n\t\t\t\t<h5>Canciones</h5>\r\n\t\t\t\t<div className=\"canciones\">\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.songs.songs.map((songs,i) =>\r\n\t\t\t\t\t<div className=\"row cancion\" key={songs.id} onClick={() => this.playSong(songs)}>\r\n\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t<p>{i+1}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-10\">\r\n\t\t\t\t\t\t\t<p>{songs.name}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-1\">\r\n\t\t\t\t\t\t\t<p>{this.minutos(songs.duration_ms)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t}\r\n\r\n\tcancionesAleatoriasArtista = () =>{\r\n\t\tconst numAlbums = this.state.albums.length \r\n\t\tconst albumrRam = Math.floor((Math.random() * numAlbums) + 0)\r\n\t\tconst albumId = this.state.albums[albumrRam].id;\r\n\t\tthis.songByArtist(albumId)\r\n\t\tconsole.log(this.state.tempAlbum)\r\n\t\t// const canciones = this.state.songs.find( e => e.album === albumId)\r\n\t\t// for (var i = 0; i <= num; i++) {\r\n\t\t// }\r\n\r\n\t}\r\n\r\n\trepCancion = () =>{\r\n\t\treturn <>\r\n\t\t\t<div className=\"head-artist\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-2 offset-md-5\">\r\n\t\t\t\t\t\t<img src={this.state.artista.image} alt={this.state.artista.name}/>\r\n\t\t\t\t\t\t<h4>{this.state.artista.name}</h4>\r\n\t\t\t\t\t\t<span><i className=\"fas fa-star\"></i>{this.state.artista.popularity}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"bar\">\r\n\t\t\t\t<div className=\"col-md-8 offset-md-2 link-album\">\r\n\t\t\t\t\t<p onClick={() => this.albumsQuery(this.state.artista)}>Álbumes</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{this.cancionesAleatoriasArtista()}\r\n\t\t</>\r\n\t}\r\n\r\n\tasync componentDidMount (){\r\n\t\tconst responseJson = await getArtistas()\r\n\t\tthis.setState({artistas: responseJson, isFetch: false, view: 'artista'})\r\n\t}\r\n\r\n\talbumsQuery = async (art) => {\r\n\t\tconst responseJson = await getAlbumsByArtist(art.id)\r\n\t\tthis.setState({artista: art, albums: responseJson[0].albums, isFetch: false, view: 'album'})\r\n\t}\r\n\r\n\tsongsQuery = async (alb) => {\r\n\t\tconst responseJson = await getSongsByAlbums(alb.id)\r\n\t\tthis.setState({album: alb, songs: responseJson[0], isFetch: false, view: 'songs'})\r\n\t}\r\n\r\n\tsongByArtist = async (id) => {\r\n\t\tconst responseJson = await getSongsByArtist(id)\r\n\t\tthis.setState({tempAlbum: responseJson[0]})\r\n\t}\r\n\r\n\tplaySong = (sng) =>{\r\n\t\tthis.setState({song: sng, view: 'song'})\r\n\t}\r\n\r\n\tcargarVista = () =>{\r\n\t\tswitch(this.state.view){\r\n\t\t\tcase 'artista': return this.verArtistas(); break;\r\n\t\t\tcase 'album': return this.verAlbums(); break;\r\n\t\t\tcase 'songs': return this.verCanciones(); break;\r\n\t\t\tcase 'song': return this.repCancion(); break;\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { isFetch } = this.state\r\n\t\tif(this.state.isFetch){\r\n\t\t\treturn \"Cargando...\"\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<section className=\"container-fluid\">\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tthis.cargarVista()\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t</section>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n \r\n\r\nexport default Artistas;\r\n"]},"metadata":{},"sourceType":"module"}